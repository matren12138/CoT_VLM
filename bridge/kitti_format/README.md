## DateGenerator

**Brief Introduction**

Generate a simulation dataset in KITTI 2D/3D object detection dataset format based on CARLA Simulator.

![image](https://user-images.githubusercontent.com/55339200/138204888-18958f52-ab1a-454a-8eef-23b7d4987f37.png)

**Dataset format**

training

|__   calib/    # Correction data from sensors such as cameras and radars

|__   image/   # RGB image generated by camera

|__   label/   #  Object tags

|__   velodyne/  #  Measurement data of LiDAR

|__   train.txt

|__   trainval.txt

|__   val.txt

```
label：
#Values    Name      Description
----------------------------------------------------------------------------
   1    type         Describes the type of object: 'Car','Pedestrian',
   					 'TrafficSigns', etc.
   1    truncated    Float from 0 (non-truncated) to 1 (truncated), where
                     truncated refers to the object leaving image boundaries
   1    occluded     Integer (0,1,2,3) indicating occlusion state:
                     0 = fully visible, 1 = partly occluded
                     2 = largely occluded
   1    alpha        Observation angle of object, ranging [-pi..pi]
   4    bbox         2D bounding box of object in the image (0-based index):
                     contains left, top, right, bottom pixel coordinates
   3    dimensions   3D object dimensions: height, width, length (in meters)
   3    location     3D object location x,y,z in camera coordinates (in meters)
   1    rotation_y   Rotation ry around Y-axis in camera coordinates [-pi..pi]
   1    score        Only for results: Float, indicating confidence in
                     detection, needed for p/r curves, higher is better.
```

**Type of label**

The targets of label calibration are mainly divided into two categories. The first category is the actors (Car and Pedestrian) generated by ourselves; The second type is the environmental targets present in the map (None, Buildings，Fences，Other，Pedestrians，Poles，RoadLines，Roads，Sidewalks，TrafficSigns，Vegetation，Vehicles，Walls，Sky，Ground，Bridge，RailTrack，GuardRail，TrafficLight，Static，Dynamic，Water，Terrain)

**Usage Method**

Carla version: Carla 0.9.15

```
python generator.py
```

SynchronyModel.py，# Scenario class, responsible for establishing clients, setting up servers, generating actors, driving servers to calculate and obtain data

data_utils.py，# Contains tool functions such as point coordinate conversion and label generation

data_descriptor.py, # KITTI format description class

DataSave.py，# Data saving class, generating a path to save data, saving data

export_utils，# Tool functions for saving data

image_converter.py, # Image format conversion function

visual_utils，# Visualization tool functions


